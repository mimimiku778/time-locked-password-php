# Enable rewrite engine
RewriteEngine On

# Redirect /index.php to / (clean URL)
RewriteCond %{THE_REQUEST} \s/+index\.php[\s?] [NC]
RewriteRule ^index\.php$ / [R=301,L]

# Route root / to index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^$ index.php [L]

# Block access to all files except allowed ones
RewriteCond %{REQUEST_FILENAME} !^.*\.(css|js|svg|ico)$
RewriteCond %{REQUEST_URI} !^/$
RewriteCond %{REQUEST_URI} !^/index\.php$
RewriteRule ^(.*)$ - [F,L]